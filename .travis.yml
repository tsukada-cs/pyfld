language: python
os:
- linux
python:
- 3.6
- 3.7
- 3.8
before_install:
- git checkout main
- pip install coveralls pytest-cov
install:
- pip install -e .
script:
- pytest --cov=pyfld pyfld/tests
- coverage run -a --source=pyfld -m pytest pyfld/tests
after_success:
- coveralls
deploy:
  provider: pypi
  username: tsukada-cs
  password:
    secure: uxoyXNAiZl3CkLrIwZlS00Md/4mnaj4S2c+UVyU/U4/Cb6hFEVbXBuml2Y4Okpyw8T9llRMfoX4eDLalLtG5oM3gYAy5/a52Ng+YNAU7MgcteCkV/0xwqHT31aQfo6V8goiQ4XhZI4F6BxaG8tuZWCgV1SCyfv9jbX41X1QKJxKmF+uTsUEeEl+NdXWATUJ/4gZScyhytUwzugs18LPF+H2TkkgzSOK7rSBOLieXJkK790J/cM8uhI19qJJAE6Hj4tc5u0GXvZjf4YPOQO4CVfsa4HT3FaHjWoMSjPTr4lpgKFJuY5D+Xg2/X2JTqlwIHNUbNPB88Xww4BKbjuL8qbut7txSRduL+Kh9Y6Aj/Xkw6Ew18BqqzxOmNWVLNErONfsBXXqACOwBJFlpk+kTPXay4V2xudJS1kMEBvlb5Mk68mDe7jB0n9fDWvhPZ11AT49/2iYhQyXTui0VeQ6QxACTupiZPclCCUxA6a/84B3KLI9u6eQxLyJEEnsoWZb+ildJVu3Dn1W+fnskt2d7Scl27MVAMDlNCnF0bvmbFA8ejiPI5Vir8lAxsHIOEJCNbFpKQXNQIyVmbmekR0Ov2/r3ZdpWiLX37/TbsriiJQV1NWCv+M7BDBVxpv8gfqS7nBu53h4GFddyxtk68IJNw/rcWrl3jOn/AMmC9oSSGaU=
  distributions: sdist
  skip_existing: true
  on:
    repo: tsukada-cs/pyfld
    branch: main
    python: 3.8
